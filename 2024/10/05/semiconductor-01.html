<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.25.1 by Michael Rose
  Copyright 2013-2024 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>半导体从入门到放弃（上）—— 半导体和数字电路 - Coderemixer 代码混音师</title>
<meta name="description" content="半导体芯片是现代电子设备的核心，从电视遥控器到超级计算机，无不依赖于这些微小的硅片。然而，芯片设计和制造是一个复杂的过程，涉及深厚的物理、化学知识和精密的工程技术。本篇文章旨在为读者提供一个全景式的了解，涵盖从半导体材料的基本原理到数字电路设计，以及从芯片体系结构到生产工艺的各个环节。">


  <meta name="author" content="CodeRemixer">
  
  <meta property="article:author" content="CodeRemixer">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Coderemixer 代码混音师">
<meta property="og:title" content="半导体从入门到放弃（上）—— 半导体和数字电路">
<meta property="og:url" content="https://coderemixer.com/2024/10/05/semiconductor-01">


  <meta property="og:description" content="半导体芯片是现代电子设备的核心，从电视遥控器到超级计算机，无不依赖于这些微小的硅片。然而，芯片设计和制造是一个复杂的过程，涉及深厚的物理、化学知识和精密的工程技术。本篇文章旨在为读者提供一个全景式的了解，涵盖从半导体材料的基本原理到数字电路设计，以及从芯片体系结构到生产工艺的各个环节。">







  <meta property="article:published_time" content="2024-10-05T15:30:00+08:00">






<link rel="canonical" href="https://coderemixer.com/2024/10/05/semiconductor-01">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "https://coderemixer.com/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Coderemixer 代码混音师 Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>


  
    <script src="/assets/js/mathjax.js"></script>
  
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Coderemixer 代码混音师
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/">首页</a>
            </li><li class="masthead__menu-item">
              <a href="/about">关于</a>
            </li><li class="masthead__menu-item">
              <a href="https://github.com/dsh0416">GitHub</a>
            </li><li class="masthead__menu-item">
              <a href="/atom.xml">RSS</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person" class="h-card">

  
    <div class="author__avatar">
      <a href="https://coderemixer.com/">
        <img src="/assets/images/bio-photo.png" alt="CodeRemixer" itemprop="image" class="u-photo">
      </a>
    </div>
  

  <div class="author__content">
    <h3 class="author__name p-name" itemprop="name">
      <a class="u-url" rel="me" href="https://coderemixer.com/" itemprop="url">CodeRemixer</a>
    </h3>
    
      <div class="author__bio p-note" itemprop="description">
        <p>一个用来发牢骚的网站，以至于无法对所说的话负责。<br /><br /> 文章若无特别声明，皆采用 <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 进行许可。</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name" class="p-locality">Shanghai ⊕ Tokyo</span>
        </li>
      

      
        
          
            <li><a href="mailto:dsh0416@gmail.com" rel="nofollow noopener noreferrer me"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span></a></li>
          
        
          
            <li><a href="https://github.com/dsh0416" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-github-square" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
            <li><a href="https://twitter.com/DeltonDing" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-square-x-twitter" aria-hidden="true"></i><span class="label">X (Twitter)</span></a></li>
          
        
          
            <li><a href="https://www.xiaohongshu.com/user/profile/6030b59300000000010044d5" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-heart" aria-hidden="true"></i><span class="label">小红书</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer me">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page h-entry" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="半导体从入门到放弃（上）—— 半导体和数字电路">
    <meta itemprop="description" content="半导体芯片是现代电子设备的核心，从电视遥控器到超级计算机，无不依赖于这些微小的硅片。然而，芯片设计和制造是一个复杂的过程，涉及深厚的物理、化学知识和精密的工程技术。本篇文章旨在为读者提供一个全景式的了解，涵盖从半导体材料的基本原理到数字电路设计，以及从芯片体系结构到生产工艺的各个环节。">
    <meta itemprop="datePublished" content="2024-10-05T15:30:00+08:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title p-name" itemprop="headline">
            <a href="https://coderemixer.com/2024/10/05/semiconductor-01" class="u-url" itemprop="url">半导体从入门到放弃（上）—— 半导体和数字电路
</a>
          </h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2024-10-05T15:30:00+08:00">October 5, 2024</time>
      </span>
    

    

    
  </p>


        </header>
      

      <section class="page__content e-content" itemprop="text">
        
        <p>半导体芯片是现代电子设备的核心，从电视遥控器到超级计算机，无不依赖于这些微小的硅片。然而，芯片设计和制造是一个复杂的过程，涉及深厚的物理、化学知识和精密的工程技术。本篇文章旨在为读者提供一个全景式的了解，涵盖从半导体材料的基本原理到数字电路设计，以及从芯片体系结构到生产工艺的各个环节。</p>

<p>需要注意的是，本篇文章并不会深入探讨具体的设计方法或实现手段，除非特别举例说明。本文的目标是帮助读者理解半导体行业的核心概念，让你在面对与芯片相关的新闻或话题时，能够辨别出无良媒体的误解或错误。然而，读完这篇文章后，读者可能不会成为半导体行业的专家，甚至连入门都谈不上。但会对芯片设计背后的原理有更清晰的认识。</p>

<h2 id="目录导航">目录导航</h2>

<ul>
  <li><a href="/2024/10/05/semiconductor-01">半导体从入门到放弃（上）—— 半导体和数字电路</a></li>
  <li><a href="/2024/10/05/semiconductor-02">半导体从入门到放弃（中）—— 局域性原理与芯片设计</a></li>
  <li>半导体从入门到放弃（下）—— 量产技术（未完成）</li>
</ul>

<h2 id="半导体">半导体</h2>

<p>在讨论芯片设计的物理基础时，我们首先要了解半导体材料，尤其是硅（Si）。硅是最常用的半导体材料之一，其电子结构对于理解它的电学性质至关重要。但在理解以硅为基础材料的半导体是什么之前，我们先要对「导电」这件事情本身进行一些基础知识的理解。</p>

<h3 id="能带理论">能带理论</h3>

<p>在单个原子中，电子只能处在特定的能量水平（称为能级），而当许多原子紧密排列形成固体材料时，这些能级会相互作用，形成连续的能量带。</p>

<p>我们可以将能量带想象成一座楼梯，每个台阶代表不同的能量水平。电子处在这些台阶上，它们可以在不同的台阶（能量水平）之间跳跃。当你爬得越高，你的能量就会越大（如同现实中的重力势能），反之则越小。这时候我们需要引入三个概念：</p>

<ul>
  <li>
    <p><strong>价带</strong>：相当于楼梯的底部，是电子「站立」的稳定位置。这里的电子与原子核紧密结合，能量较低，移动自由度较小。电子在价带中往往是处于相对稳定的状态，无法自由移动。</p>
  </li>
  <li><strong>导带</strong>：相当于楼梯的上方，是电子可以自由「行走」的地方。电子一旦到达导带，它们就获得了足够的能量，可以在晶体中自由移动，从而形成电流。</li>
  <li><strong>带隙</strong>：价带和导带之间有一段「空隙」，称为 <strong>带隙</strong>（band gap），相当于楼梯上的一大步。这一步（能量差）决定了电子从价带跃迁到导带的难易程度。材料的导电性主要取决于这个带隙的大小。</li>
</ul>

<h4 id="导体没有带隙的楼梯">导体：没有带隙的楼梯</h4>

<p>在导体中，导带和价带是重叠的，或是非常接近，没有明显的带隙。因此，电子不需要“跨越”任何能量差即可进入导带。例如铜的电子在最外层很容易进入导带，因为它的价带和导带几乎重叠。可以想象在铜中，电子就像是在平坦的地板上行走，不需要额外的能量跃迁到导带，因而铜能够很好地导电。</p>

<h4 id="绝缘体巨大带隙的楼梯">绝缘体：巨大带隙的楼梯</h4>

<p>与导体不同，绝缘体（如玻璃、橡胶）具有非常大的带隙，这意味着电子要从价带跃迁到导带需要非常高的能量。在正常条件下，电子几乎不可能跨越这个巨大的能量差。例如石英的带隙非常大。电子被牢牢困在价带中，几乎无法进入导带。这就好像电子被困在楼梯的底部，无法跃过楼梯的高台阶，导致它无法传导电流。</p>

<h4 id="半导体微妙的中间状态">半导体：微妙的中间状态</h4>

<p>半导体位于导体和绝缘体之间，其带隙较小，因此电子在某些条件下能够跃迁到导带，产生导电现象。硅（Si）作为一种典型的半导体材料，它的价带和导带之间有一个适中的能隙，这个能隙的大小允许我们通过外部手段（如加热或施加电场）让电子越过这个「台阶」进入导带。</p>

<p>硅的带隙约为 1.12 电子伏特（eV），比导体的重叠带大，但比绝缘体的小。通过适当的能量输入（如施加电场或光照），硅中的电子能够从价带跃迁到导带。这使得硅在不同条件下既可以作为绝缘体使用，也可以作为导体使用，这正是半导体材料的独特之处。</p>

<h3 id="掺杂">掺杂</h3>

<p>硅原子在元素周期表中位于第十四族，其最外层有 4 个价电子。这些电子通过 <strong>共价键</strong> 与邻近的其他 4 个硅原子形成强力的化学键。硅的晶体结构被称为 <strong>钻石结构</strong>，是一种立体网状结构，在这个结构中，每个硅原子与周围 4 个硅原子通过共价键相连，没有任何自由电子，形成非常稳定的结构。</p>

<p><img src="/assets/images/silicon-structure.png" alt="钻石结构" /></p>

<p>在纯净的硅晶体中，这些共价键牢牢束缚着硅原子的价电子，使它们无法自由移动，因此在低温或常温下，硅的导电性较弱。但硅可以通过 <strong>掺杂（doping）</strong>，即引入微量的杂质原子，来改变它的电学性质。掺杂可以显著影响硅的 <strong>能带结构</strong>，从而使其导电性能发生变化。</p>

<p>当硅晶体中引入 <strong>五价元素</strong>（如磷、砷）时，这些原子带有 5 个价电子，比硅的 4 个价电子多一个。这个多余的电子并不参与共价键的形成，因此成为一个<strong>自由电子</strong>，可以很容易地跃迁到导带中。由于多了一个自由电子，这样的掺杂后的半导体被称为 <strong>「N 型半导体」</strong>。</p>

<p>当硅晶体中引入 <strong>三价元素</strong>（如硼、铝）时，这些原子带有 3 个价电子，比硅原子少 1 个，因此它们无法与周围的四个硅原子形成完整的共价键，结果在晶体结构中留下一个 <strong>空穴</strong>（hole）。这种掺杂产生了正电荷的载流子，即空穴，因此称为 <strong>「P 型半导体」</strong>。</p>

<h3 id="二极管">二极管</h3>

<p><img src="/assets/images/pn-junction.png" alt="PN Junction" /></p>

<p>二极管由 <strong>P 型半导体</strong> 和 <strong>N 型半导体</strong> 相互结合形成，这个接合区域被称为 <strong>PN 结</strong> 。在 P 型区域，主要载流子是 <strong>空穴</strong>（带正电的缺少电子的状态），而在 N 型区域，主要载流子是 <strong>自由电子</strong>（带负电的电子）。这两种材料结合在一起时，会在它们的交界处形成独特的电荷分布，进而影响二极管的导电行为。</p>

<p>当对二极管施加 <strong>正向</strong> 电压时，自由电子能够从 N 型半导体流动到缺少电子的 P 型半导体上，从而形成回路。 然而当给二极管施加 <strong>反向</strong> 电压时，P 型半导体少掉的电子和 N 型半导体多出来的自由电子极大阻止了自由电子从 P 型半导体向 N 型半导体传播，二极管表现为绝缘体，阻止电流通过。</p>

<h3 id="mosfet">MOSFET</h3>

<p>在理解了二极管的基本原理后，我们需要理解数字电路中非常重要的一种半导体器件 MOS 管（MOSFET）。</p>

<p><img src="/assets/images/mosfet.jpg" alt="MOSFET" /></p>

<p>MOS 管由三个关键部分组成：源极（Source）、漏极（Drain）、栅极（Gate）。</p>

<p>当栅极没有施加电压时，源极和漏极之间 <strong>没有形成导电通道</strong>。这意味着即使在源极和漏极之间施加电压，电流也无法通过。</p>

<p>我们以 NMOS 为例（图左），当在 <strong>栅极施加电压</strong> 时，栅极下方的 P 型衬底中的空穴被正电场排斥，电子被吸引到栅极下方，这使得电子组成了两个 N 型半导体之间的通道，使得源极和漏极之间可以被导通。PMOS（图右）则是相反，它需要通过给栅极施加负电压，排斥 N 型衬底的电子，使得源极和漏极导通。</p>

<p><img src="/assets/images/cmos.png" alt="CMOS" /></p>

<p>CMOS 是芯片设计中最基础的单元，它由一个 NMOS 和一个 PMOS 共同组成。在 CMOS 中，当输入信号为高电平时，NMOS 导通，而 PMOS 关闭；当输入信号为低电平时，PMOS 导通，而 NMOS 关闭。</p>

<p>在单独的 NMOS / PMOS 电路中，电路会有持续的电流流过，导致较高的静态功耗。相比之下，CMOS 电路在稳态时几乎没有静态功耗。在一个典型的 CMOS 电路中，NMOS 和 PMOS 交替工作，只有在状态切换时才会有电容充放电的功耗。这意味着在无切换时，功耗接近为零。这使得 CMOS 成为了现代芯片设计中最基础的单元。</p>

<p>我们会发现由 CMOS 管构成的电路相当于一种 <strong>「电子的开关」</strong>，我们可以通过控制栅极来控制电路是不是导通。但是读到这里的你可能还是非常困惑，为什么我们要使用这么复杂的方式来控制电路的开关？现代芯片是如何使用 CMOS 的组合实现各种复杂的计算、存储以及各种工作的？于是我们需要讨论 <strong>「数字电路」</strong> 这个概念。</p>

<h2 id="数字电路基础">数字电路基础</h2>

<p><strong>数字电路</strong> 的核心思想是将电流的流动（通/断）映射为 <strong>二进制</strong> 系统中的 1 和 0 这两种状态。这种映射让我们可以通过简单的电路组合，处理复杂的数据计算和逻辑操作。</p>

<h3 id="基础门电路">基础门电路</h3>

<p>我们不妨试着用 CMOS 搭建一下最基础的几种门电路：非门、与门和或门。</p>

<p><img src="/assets/images/not-gate-off.png" alt="Not Gate Off" /></p>

<p><img src="/assets/images/not-gate-on.png" alt="Note Gate On" /></p>

<p>在上面这个电路图中，当左侧给定一个高电平的信号时，PMOS 管截止，NMOS 管导通，右侧输出低电平；当左侧给定一个低电平的信号时，PMOS 管导通，NMOS 管截止，右侧输出高电平。从而我们实现了一个将 <strong>信号反转</strong> 的功能，这样的逻辑电路被称为 <strong>「非门（NOT）」</strong>。可以点击<a href="https://falstad.com/circuit/circuitjs.html?ctz=CQAgjCAMB0l3BWcMBMcUHYMGZIA4UA2ATmIxAUgpABZsKBTAWjDACgxCURtC8QUKGrWzdBw7gBMGAMwCGAVwA2AFyZKGk8FB0xI7AOYixQ4wISFdbAO480A0737ioNu1UzdRH05DffwDEsAlz9bTwE8ZyjI-jCBDBMJRNjXcIsHZKS0hO5ODxTQtxQY-NzwQip4tGdTMGJsvwBnAXxM80tQ7XklJoY2ACVwBvayrqoaKiQqqGgEf3tcYQCA+ICwEvdwGmE-GVSy9cqeejA52cgUNn2S6P4QmNFwc70rofXNgOJLGcnqGZg8yMK0Wi14ViAA">这个链接</a>在线看一下非门的实现。</p>

<p><img src="/assets/images/and-gate.png" alt="And Gate" /></p>

<p><img src="/assets/images/or-gate.png" alt="Or Gate" /></p>

<p>类似地，我们还可以得到<a href="https://falstad.com/circuit/circuitjs.html?ctz=CQAgjCAMB0l3BWcMBMcUHYMGZIA4UA2ATmIxAUgpABZsKBTAWjDACgxCULCqwNCILjXACQ3ACYMAZgEMArgBsALk0UMJ4KNpiR2AcyEoR-QcPH4dbAO6jBKY+F7jHkNgGc7LkQ5+utcoruDGwASk5UvuAoeN46tFRIVMnQCDYguCJ4VJkgxIJu0uIY3GA0IrllFfRgqVCwKGEZkFk5LbSxyQnUXTBp4ZyRJdGxmNxdNInxfR5eY3HzfCCBwemmxaXOi2xF2Ail5Rl4JofYNXW6jba5+c0mMVDpN4LYx3kFT2+3r-edOxn7CyxH5AjKlC4Nf57bjzEGw8FJSG2FAIezDFGCKqPa7YTGnQFYtw4+yOM72SxEjK40HQ0GUsk06mEp7tQZ3Lz01licqxdb0t5snkRbG0Gi85xCvmfEzEbiS2Ui+VysUc6XiVFHPwiNyGOF4YFvbBoKzIjVY+bM5GOKIMqKUqLzDEbEVO2GA7aGBBgGHDL0w-VWcJ+kDZCjejrxSY9HSpf5iyJR4PGHII+qQRpFePgcPB1jcM7gCHp9LB0PB26UpMapPDSlZvO0QgmcN1pvZuVtqW2SXcztiVsmXs+KMD8RRrPJkW5h65-sl8NRWcfWxLnh8OdAA">与门</a>和<a href="https://falstad.com/circuit/circuitjs.html?ctz=CQAgjCAMB0l3BWcMBMcUHYMGZIA4UA2ATmIxAUgpABZsKBTAWjDACgxCUKU8QUaVBMW4Cq3ACYMAZgEMArgBsALk0UMJ4KNpiR2Acwoj+go6IzcqkNgHdwGQuBo1whKmGdQ2AZ3uOPLigCTi7uIHKK3gxsAEqu7p5gvCE6tEKpMAix8eDGSXxgxlZp1MWZPn65osGFlloRUbaVtTkt1oY0eFTY2I6d3Qh11nH9KaOsQyVIZdBZ0rSdILguo8tL3GCzULAobPPOBQ60XZU94Fu6u3bjnuNuXtcn2GjH3b0PC4d9z5XW1z9gI50USmP60H5icHcNZg4FLSArRYwprjYyjSGwk68Pjo0EorGmQZ8DF7JZ4FwBWicFJnTbTHak7DkqpU-zGWkXBnXamcKg0HlHazzTCiPB8NbY9bnemQXbzHqOSW9YliqV07aytiGZXrbqEcXvKxNNYmhG6j4ml4655GuzWs3Wl5goIUzwoBD+TzOj005mU72ewI+yUB-iqkVhvjOmrsl5tY1x2PiVVgm2RpbvEPGv1JlnDVkgE78vpR7SEjKzFHUos85Kw6loHENvF2s0RiUt+GBUzFky2pb6-gWAsR+uK4e9kncxU9iF4oA">或门</a>，有了与、或、非门，我们就可以围绕这三者构造大量的计算。我们不妨来看一下，我们如何使用这三个的组合来实现加法运算。</p>

<h3 id="加法器">加法器</h3>

<p><img src="/assets/images/half-adder.png" alt="Half Adder" /></p>

<p>如上图的<a href="https://falstad.com/circuit/circuitjs.html?ctz=CQAgjCAMB0l3BWcMBMcUHYMGZIA4UA2ATmIxAUgpABZsKBTAWjDACgAZcQqtPcMChB8o4EADMAhgBsAzg2qQ2YSiFw1uVbAiFgeooVQSdNwhIQFCU50VSlyFSJQHdTIvVTA0NL0143q4N5QbK4eZhYi1ha+UTbuGDGhwvjgiWqQGmDpvtq6+jR6pkoAshT64Tz84bzQxgAe5RBeVIRgxEH0GigaAMKSAE4DAJ7KOhndPWrjKFO81MZh+iKBIrGp0cI0vDax2xFbvPt7R1qZhyEqVDR4vFM6-LM+wgvJhRbh7yn8uTNTeRdflZ9t5Hsc2ABJWhFEQ0QjdVJUGBIRa0eHfWi3DG+UEXG6nEKuB7Ce7LOZsRoIBAdNAWQjYCBoDrdDQAeQArgAXAAOXLeRXC5k8+lK5TuGiqJOeKDqbCAA">电路</a>通过逻辑门的组合，实现了两个一位二进制数的相加，被称为一个<strong>「半加法器」</strong>。可以想象，</p>

<p><img src="/assets/images/full-adder.png" alt="Full Adder" /></p>

<p>如果我们将半加法器串接，就可以处理两个二进制数和一个上一位计算是否要进位的加法器。这样的<a href="https://falstad.com/circuit/circuitjs.html?ctz=CQAgjCAMB0l3BWcMBMcUHYMGZIA4UA2ATmIxAUgpABZsKBTAWjDACgAZcQqtPcMChB8o4EADMAhgBsAzg2qQ2YSiFw1uVbAiFgeooUgSdNwhIQFCU50RClyFSJQHdTIvVTA0NL0143q4N5QbK4eZhYi1ha+UTbuGDGhwvjgiWqQGmDpvtq6+jR6pkoqQoEoKAE6wpUG1MZh+iLlqbGp0cI0vDaxXRGdvH29g1qZAyEqVDR4vLU6-BU+wqINtEXhhZGtyXk1VVZDO9WVU9PjSgCSa1v8NIQaIlQwRsl3D6nTvNuu3gt9n+dkvM9hQmrUlABZZB4fiCWFgbAWOEGaDGAAe0PIrE8KmIAnoDw0AHkAK4AFwADuTkmBIDZkbSYeAUPxfGQkcFaal-CFXKRdIJkNzBZcQMROYL+ZZRM8KMkYZ5guygj55TNmfwFSreWLgvddVkRcpVFzYSzkPTzbwVslErDgnhsLpgr47aY3TzXYj3YRYfpfL74UJHQKhCVqiGNSAtcjrVRVlr9eKNPqvRZ1ZH1Wn3d6s8lA7RNU7CzqC6whAWzuGqJH9YmlmG5Vwy4L7jjG1R7PJFGwMToa0hCLho7dOiAOJJZGSADqyADCkgATouAJ5AsEaHCRcG272LEBb4rGoTEfQsJFwfjnuovPl6jTJmXJR9UU9PHWbUyfpjF3zf4tviAP5hjSl5Aes+BXkUSgYoyeJMH0rA0OQP7kISIALsua5QoyUFIgiFjXrwqJsEAA">电路</a>被称为<strong>「全加法器」</strong>。我们只需要堆叠这样的电路就可以实现 <strong>任意位数的整数加法</strong>。</p>

<p><img src="/assets/images/von-neumann-architecture.png" alt="Von Neumann Architecture" /></p>

<p>使用类似的技术，你可以实现各种计算、分支判断、控制等电路。然而这还缺少一个非常关键的部分，对于冯诺依曼架构而言，我们还没有解决<strong>「存储」</strong>这个问题。例如我们想要先算加法，再算乘法之类的，我们总是希望程序能自动执行这些步骤，并且存储中间结果，而不是我们认为每次都重新输入。</p>

<h3 id="锁存器">锁存器</h3>

<p><img src="/assets/images/latch.png" alt="Latch" /></p>

<p>在这个<a href="https://falstad.com/circuit/circuitjs.html?ctz=CQAgjCAMB0l3BWcMBMcUHYMGZIA4UA2ATmIxAUgpABZsKBTAWjDACgxKRs8apa8VISBT8EHLjz5o8AqjP6iq4zvUL4BIDJD41Z86ioRqNYdVp3hzB5WwDu3BKJQo+Uka6hsASo9HFCbjQQAPARZHloJBQo-hhxB2wnEMCk0TMvROSM9wzIez8UwrBiJQK08FLuXkqyhz1hdX1MkCb+Nuw6uRENNoV8hz7e0wxAgYs+Myo2wj5xtrAaPm1dfTYAWQmrKgwaqcUotgAZQpc3SzO4kAAzAEMAGwBnBmp8k-cWVMtPq7unl6Q+QAHtxWCAmDxqrIIUhpHwAMoAFwA9gAnBgAHUe7BB2DBRHIPFkmCocJASLRmMe+SAA">电路</a>中，你可以通过在 <strong>时钟高电平</strong> 时，设置 0 或者 1，使得电路保存下来你的状态。即使之后设置 0 或 1 的信号不在了，也不影响输出。这是我们第一次引入<strong>「时钟」</strong>这个概念，并且只让这个电路在时钟高电平时（也就是时钟上升沿执行后面的逻辑），因为在后面的电路中，我们将 <strong>逻辑门的输出接在了逻辑门的输入</strong> 上，这意味着本质上是<strong>「上个时刻的输出是下个时刻的输入」</strong>，而这个步骤如果执行地过快，可能会由于电路本身的延迟（我们会在之后很具体地讨论这个问题）导致来不及存储，从而导致程序执行的错误。为了避免这个问题，我们引入了时钟。</p>

<p>这种时钟边沿触发机制和时钟速率的管理，是现代芯片设计中实现稳定、可靠、高速运算的关键。如果没有时钟信号的精确控制，复杂电路的同步工作将变得难以保障，而时序错误会导致不可预测的计算结果。</p>

<h3 id="时钟电路">时钟电路</h3>

<h4 id="晶振">晶振</h4>

<p>石英晶体（晶振）是一种压电材料，当对其施加电压时，石英晶体会发生形变，反过来，它也能够在外力作用下产生电压。当晶体振荡器工作时，石英晶体能够在特定的自然频率下发生机械振荡，称为 <strong>谐振</strong>。这意味着当我们将一个噪声信号传给晶振时，其谐振频率附近的频率会被放大和保留，而其它频率会被抑制。在这些噪声源的作用下，晶振可以获得启动所需的初始扰动，进而利用自身的谐振特性生成稳定的时钟信号。</p>

<h4 id="锁相环-pll">锁相环 (PLL)</h4>

<p><img src="/assets/images/pll-circuit.png" alt="PLL 基本原理" /></p>

<p><strong>晶振</strong> 提供的频率通常较低，无法直接满足现代处理器和其他高速电路的需求。因此，设计中常常采用 <strong>PLL 电路</strong>（Phase-Locked Loop，锁相环）对晶振的频率进行放大，从而得到更高的工作频率。</p>

<p>一个典型的PLL电路由以下几个主要模块组成：</p>

<ol>
  <li><strong>相位检测器（Phase Detector，PD）</strong>：检测输入参考信号（例如来自晶振）的相位与PLL反馈信号的相位之间的差异，并输出一个代表相位误差的信号。</li>
  <li><strong>环路滤波器（Loop Filter，LF）</strong>：对相位检测器输出的误差信号进行滤波，去除高频噪声，并将其转化为一个相对平滑的控制电压信号。</li>
  <li><strong>压控振荡器（Voltage-Controlled Oscillator，VCO）</strong>：将滤波器输出的控制电压转换为相应频率的振荡信号。VCO的输出频率随着控制电压的变化而变化。</li>
  <li><strong>分频器（Frequency Divider，FD）</strong>：将VCO输出的高频信号进行分频，生成与输入参考信号相近的低频信号，作为反馈信号输入给相位检测器。</li>
</ol>

<p>PLL 的核心在于<strong>相位检测器</strong>，它对输入的参考信号（晶振提供的频率较低的信号）与<strong>反馈信号</strong>（来自 VCO 输出的信号经过分频器处理后的信号）进行比较，输出一个与相位差成正比的信号。这个相位差会引发控制电压的变化，进而调节 VCO 的输出频率。</p>

<ul>
  <li>如果 VCO 输出的频率过低，控制电压会升高，从而使 VCO 频率增加；</li>
  <li>如果 VCO 输出的频率过高，控制电压会降低，降低 VCO 的输出频率。</li>
</ul>

<p><strong>分频器</strong> 用于将 VCO 输出的高频信号按比例降低，使其与参考信号的频率接近。分频器通常会将 VCO 的输出频率除以一个特定的整数值（N），然后将这一频率反馈给相位检测器。这使得 PLL 电路可以通过控制 VCO 的高频输出与低频的参考信号进行比对，从而调节 VCO 的输出频率。例如晶振的频率是 10MHz，而我们希望得到 100MHz 的输出时钟信号。通过将 VCO 输出的 100MHz 信号分频 10 倍，得到一个 10MHz 的信号，然后与晶振的 10MHz 信号进行相位比较。这种设计使得 VCO 的输出频率被锁定在晶振频率的整数倍上。</p>

<p>现代 PLL 电路中，通常会采用一些更加复杂的技术来实现更精确的频率控制和调节。这包括分数倍频和多级 PLL 串接。这些技术可以生成更加灵活、精确的时钟信号，但它们的原理和上文其实没有本质区别，因此在本文中我们不深入讨论它们。</p>

<h3 id="小结">小结</h3>

<p><img src="/assets/images/mos6502.jpeg" alt="MOS 6502" /></p>

<p>结合上面的知识，你已经几乎可以设计出类似于 1971 年的 Intel 4004 或者 1975 年的 MOS 6502 这样的经典芯片了。不过这样的芯片性能非常慢。在<a href="/2024/10/05/semiconductor-02">下个章节</a>我们会讨论如何通过改进芯片设计来改善运行性能。</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/%E5%8D%8A%E5%AF%BC%E4%BD%93" class="page__taxonomy-item p-category" rel="tag">半导体</a><span class="sep">, </span>
    
      <a href="/tags/%E6%95%B0%E5%AD%97%E7%94%B5%E8%B7%AF" class="page__taxonomy-item p-category" rel="tag">数字电路</a><span class="sep">, </span>
    
      <a href="/tags/%E7%94%B5%E8%B7%AF" class="page__taxonomy-item p-category" rel="tag">电路</a><span class="sep">, </span>
    
      <a href="/tags/%E8%8A%AF%E7%89%87" class="page__taxonomy-item p-category" rel="tag">芯片</a>
    
    </span>
  </p>




        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2024-10-05T15:30:00+08:00">October 5, 2024</time></p>

      </footer>

      <section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?text=%E5%8D%8A%E5%AF%BC%E4%BD%93%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E6%94%BE%E5%BC%83%EF%BC%88%E4%B8%8A%EF%BC%89%E2%80%94%E2%80%94+%E5%8D%8A%E5%AF%BC%E4%BD%93%E5%92%8C%E6%95%B0%E5%AD%97%E7%94%B5%E8%B7%AF%20https%3A%2F%2Fcoderemixer.com%2F2024%2F10%2F05%2Fsemiconductor-01" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fcoderemixer.com%2F2024%2F10%2F05%2Fsemiconductor-01" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://coderemixer.com/2024/10/05/semiconductor-01" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/2024/07/21/satb-generator" class="pagination--pager" title="基于 Prolog 的 SATB 四部和声生成器
">Previous</a>
    
    
      <a href="/2024/10/05/semiconductor-02" class="pagination--pager" title="半导体从入门到放弃（中）—— 局域性原理与芯片设计
">Next</a>
    
  </nav>

    </div>

    
      <div class="page__comments">
  
  
      <h4 class="page__comments-title">Comments</h4>
      <section id="disqus_thread"></section>
    
</div>

    
  </article>

  
  
    <div class="page__related">
  
  <h2 class="page__related-title">You May Also Enjoy</h2>
  <div class="grid__wrapper">
    
    
    
      
      
      
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/02/28/how-quantum-computing-works" rel="permalink">当我们吹嘘量子并行计算的时候
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-02-28T13:00:00+08:00">February 28, 2025</time>
      </span>
    

    

    
  </p>


    <p class="archive__item-excerpt" itemprop="description">昨天晚上和老金聊到微软的 Majorana 1 的时候，我说了一段关于量子计算研究的评论。我觉得很有必要再说一次。
</p>
  </article>
</div>

    
      
      
      
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/01/28/thoughts-about-deepseek" rel="permalink">写在甲辰年末
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-01-28T23:00:00+08:00">January 28, 2025</time>
      </span>
    

    

    
  </p>


    <p class="archive__item-excerpt" itemprop="description">今天有朋友问我：「你居然没点评 DeepSeek，不习惯。」
好吧，看来大家还是喜欢看我大放厥词。
</p>
  </article>
</div>

    
      
      
      
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2024/11/18/sinx-equals-2" rel="permalink">sin(x) = 2 的数学对决
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2024-11-18T01:00:00+08:00">November 18, 2024</time>
      </span>
    

    

    
  </p>


    <p class="archive__item-excerpt" itemprop="description">这周末我在微信朋友圈搞了个有趣的数学对决。我给 24 小时内所有解出了这个谜题的人都发了 50 元的红包。题目本身其实不算很难，甚至是一道复分析书上的例题。不过试图使用 LLM 来算这道题的人表现出了很神秘的高度一致的错误…
</p>
  </article>
</div>

    
      
      
      
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2024/10/05/semiconductor-02" rel="permalink">半导体从入门到放弃（中）—— 局域性原理与芯片设计
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2024-10-05T17:30:00+08:00">October 5, 2024</time>
      </span>
    

    

    
  </p>


    <p class="archive__item-excerpt" itemprop="description">半导体芯片是现代电子设备的核心，从电视遥控器到超级计算机，无不依赖于这些微小的硅片。然而，芯片设计和制造是一个复杂的过程，涉及深厚的物理、化学知识和精密的工程技术。本篇文章旨在为读者提供一个全景式的了解，涵盖从半导体材料的基本原理到数字电路设计，以及从芯片体系结构到生产工艺的各个环节。
</p>
  </article>
</div>

    
      
      
      
  </div>
</div>

  
  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2025 <a href="https://coderemixer.com">Coderemixer 代码混音师</a>. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-FHQPM1YDDJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-FHQPM1YDDJ', { 'anonymize_ip': false});
</script>






    
  <script>
    var disqus_config = function () {
      this.page.url = "https://coderemixer.com/2024/10/05/semiconductor-01";  /* Replace PAGE_URL with your page's canonical URL variable */
      this.page.identifier = "/2024/10/05/semiconductor-01"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */
    };
    (function() { /* DON'T EDIT BELOW THIS LINE */
      var d = document, s = d.createElement('script');
      s.src = 'https://coderemixer.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  




  </body>
</html>
